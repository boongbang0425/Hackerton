<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>arTchieve â€” ë³´ê´€ì†Œ</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;700&family=Inter:wght@400;700&family=Aclonica&display=swap" rel="stylesheet">
<style>
:root {
  --bg-primary: #11120D;
  --bg-secondary: #565448;
  --bg-card: #312B25;
  --bg-input: #565448;
  --bg-tab-active: #D8D0BD;
  --text-primary: #F0E6D6;
  --text-secondary: #A89882;
  --text-muted: #6D6052;
  --text-dark: #1A1612;
  --accent-gold: #C8A55C;
  --accent-yellow: #F9D894;
  --border-subtle: rgba(255,255,255,0.06);
  --border-light: rgba(255,255,255,0.08);
  --border-dark: rgba(255,255,255,0.04);
  --color-blue: #5A7A9A;
  --color-blue-light: #A5C2E0;
  --color-green: #9CDCC6;
  --color-pink: #E28BAB;
  --color-red: #B5606A;
  --color-purple: #DBB6D7;
  --color-orange: #D4764E;
  --color-brown: #DDBA9F;
  --color-olive: #A1AA85;
  --color-lemon: #EEE79F;
  --color-amber: #C8A55C;
  --nav-height: 79px;
  --header-height: 72px;
}

* { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
html, body { 
  width:100%; height:100%; 
  background:#000; 
  font-family:'Inter',sans-serif; 
  overflow:hidden;
  color:var(--text-primary);
}

/* App Container */
.app {
  position:relative;
  width:100%; max-width:430px; height:100vh; height:100dvh;
  margin:0 auto;
  background:var(--bg-primary);
  overflow:hidden;
  display:flex; flex-direction:column;
}

/* Screens */
.screen {
  position:absolute; inset:0;
  display:flex; flex-direction:column;
  opacity:0; pointer-events:none;
  transition: opacity 0.35s ease, transform 0.35s ease;
  transform: translateX(30px);
  background:var(--bg-primary);
  z-index:1;
}
.screen.active {
  opacity:1; pointer-events:all;
  transform: translateX(0);
  z-index:2;
}
.screen.slide-left {
  transform: translateX(-30px);
}

/* ========== SPLASH SCREEN ========== */
#splash {
  justify-content:center; align-items:center;
  z-index:100;
  cursor:pointer;
}
#splash .splash-content {
  display:flex; flex-direction:column; align-items:center; gap:16px;
  animation: fadeInUp 1s ease;
}
#splash .logo-icon {
  width: 80px;
  height: 80px;
  filter: drop-shadow(0 0 40px rgba(200,165,92,0.3));
  animation: float 3s ease-in-out infinite;
}
#splash .logo-icon img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}
#splash h1 {
  font-family:'Noto Serif KR',serif;
  font-size:35px; font-weight:700;
  color:var(--text-primary);
  letter-spacing:-1px;
}
#splash .tagline {
  font-size:15px; color:var(--text-secondary);
}
#splash .tap-hint {
  font-size:14px; color:var(--text-muted);
  margin-top:40px;
  animation: pulse 2s ease-in-out infinite;
}

@keyframes float {
  0%,100% { transform:translateY(0); }
  50% { transform:translateY(-10px); }
}
@keyframes pulse {
  0%,100% { opacity:0.4; }
  50% { opacity:1; }
}
@keyframes fadeInUp {
  from { opacity:0; transform:translateY(20px); }
  to { opacity:1; transform:translateY(0); }
}

/* ========== LOGIN SCREEN ========== */
#login {
  justify-content:center; align-items:center;
  padding:0 32px;
}
#login .login-logo {
  width: 64px;
  height: 64px;
  margin-bottom:8px;
  filter: drop-shadow(0 0 30px rgba(200,165,92,0.2));
}
#login .login-logo img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}
#login h2 {
  font-family:'Aclonica',sans-serif;
  font-size:26px; color:var(--text-primary);
  margin-bottom:6px; text-align:center;
}
#login .login-sub {
  font-size:14px; color:var(--text-secondary);
  margin-bottom:36px;
  text-align: center;
}
#login .input-group {
  width:100%; display:flex; flex-direction:column; gap:12px;
  margin-bottom:20px;
}
#login .input-group input {
  width:100%; height:46px;
  background:var(--bg-input);
  border:1px solid var(--border-light);
  border-radius:6px;
  padding:0 16px;
  font-size:14px; color:var(--text-primary);
  outline:none;
  font-family:'Inter',sans-serif;
}
#login .input-group input::placeholder { color:#D8D0BD; }
#login .input-group input:focus { border-color:var(--accent-gold); }
#login .btn-login {
  width:100%; height:48px;
  background:var(--accent-yellow);
  border:none; border-radius:6px;
  font-size:21px; font-weight:700;
  color:var(--text-dark);
  cursor:pointer;
  font-family:'Inter',sans-serif;
  transition: transform 0.15s, box-shadow 0.15s;
}
#login .btn-login:active { transform:scale(0.97); }
#login .signup-link {
  margin-top:24px;
  font-size:14px; color:var(--text-secondary);
  cursor:pointer;
  text-align: center;
}
#login .signup-link:hover { color:var(--text-primary); }

/* ========== MAIN HEADER ========== */
.main-header {
  background:var(--bg-secondary);
  padding:12px 20px 0;
  flex-shrink:0;
  border-bottom:1px solid rgba(255,255,255,0.04);
}
.main-header .top-row {
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom:10px;
}
.main-header .profile-area {
  display:flex; align-items:center; gap:10px;
}
.main-header .profile-pic {
  width:40px; height:40px; border-radius:50%;
  background:var(--bg-tab-active);
  display:flex; align-items:center; justify-content:center;
  overflow: hidden;
}
.main-header .profile-pic img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}
.main-header .profile-info h3 {
  font-family:'Noto Serif KR',serif;
  font-size:16px; font-weight:700;
  color:var(--bg-tab-active);
}
.main-header .profile-info span {
  font-size:11.5px; color:#968D78;
}
.main-header .header-actions {
  display:flex; gap:8px;
}
.main-header .header-actions button {
  width:34px; height:34px; border-radius:50%;
  background:none; border:none; cursor:pointer;
  display:flex; align-items:center; justify-content:center;
  font-size:16px; color:var(--text-secondary);
}
.main-header .header-actions button:hover {
  background:rgba(255,255,255,0.08);
}
.main-header .header-actions button svg {
  width: 18px;
  height: 18px;
  fill: var(--text-secondary);
}
.main-header .header-actions .profile-btn {
  background:#D9D9D9;
}
.main-header .header-actions .profile-btn svg {
  fill: #333;
}

/* Sub Tabs */
.sub-tabs {
  display:flex; height:28px; border-radius:0;
  overflow:hidden;
  gap:0;
}
.sub-tabs button {
  flex:1; height:100%;
  background:transparent;
  border:1px solid rgba(255,255,255,0.06);
  border-top:none;
  font-size:12.5px; font-family:'Inter',sans-serif;
  color:var(--text-muted);
  cursor:pointer;
  transition:all 0.2s;
  font-weight:400;
}
.sub-tabs button.active {
  background:var(--bg-tab-active);
  color:#1A1612;
  font-weight:700;
  border-color:var(--bg-tab-active);
}

/* ========== MAIN CONTENT AREA ========== */
.main-content {
  flex:1; overflow-y:auto; overflow-x:hidden;
  -webkit-overflow-scrolling:touch;
}
.main-content::-webkit-scrollbar { display:none; }

/* ========== BOOKSHELF VIEW ========== */
.bookshelf-grid {
  padding:16px 20px 80px;
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap:8px;
  position:relative;
}
.shelf-row {
  grid-column: 1 / -1;
  height:7px;
  background:var(--text-muted);
  border-radius:2px;
  margin: 8px 0 2px;
}
.book-spine {
  height:58px;
  border-radius:3px;
  cursor:pointer;
  transition: transform 0.2s;
  position:relative;
  margin-bottom:2px;
}
.book-spine:hover { transform:scaleY(1.05); }
.book-spine:active { transform:scaleY(0.95); }

/* Book colors */
.bc-blue { background:var(--color-blue-light); }
.bc-green { background:var(--color-green); }
.bc-pink { background:var(--color-pink); }
.bc-purple { background:var(--color-purple); }
.bc-brown { background:var(--color-brown); }
.bc-olive { background:var(--color-olive); }
.bc-lemon { background:var(--color-lemon); }

/* ========== LIST VIEW ========== */
.list-view { padding:8px 0 80px; }
.list-item {
  display:flex; align-items:center;
  padding:12px 20px;
  border-bottom:1px solid var(--border-dark);
  cursor:pointer;
  transition: background 0.15s;
}
.list-item:active { background:rgba(255,255,255,0.03); }
.list-item .color-dot {
  width:5px; height:48px; border-radius:3px;
  margin-right:14px; flex-shrink:0;
}
.list-item .item-info { flex:1; }
.list-item .item-title {
  font-size:14.5px; color:var(--text-primary);
  margin-bottom:4px;
}
.list-item .item-meta {
  font-size:12px; color:var(--text-muted);
}
.list-item .item-rating {
  font-size:13.5px; color:var(--accent-gold);
  text-align:right;
}

/* ========== CALENDAR VIEW ========== */
.calendar-view { padding:16px 20px 80px; }
.calendar-header {
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom:20px;
}
.calendar-header h3 {
  font-family:'Noto Serif KR',serif;
  font-size:19px; font-weight:700;
  color:var(--text-primary);
}
.calendar-nav { display:flex; gap:6px; }
.calendar-nav button {
  width:32px; height:32px;
  border:1px solid var(--border-light);
  background:none;
  color:var(--text-secondary);
  font-size:16px;
  cursor:pointer;
  border-radius:4px;
  display:flex; align-items:center; justify-content:center;
}
.cal-weekdays {
  display:grid; grid-template-columns:repeat(7,1fr);
  margin-bottom:8px;
}
.cal-weekdays span {
  text-align:center;
  font-size:10.5px; color:var(--text-muted);
  padding:4px 0;
}
.cal-days {
  display:grid; grid-template-columns:repeat(7,1fr);
  gap:4px;
}
.cal-day {
  aspect-ratio:1;
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  font-size:13px; color:var(--text-primary);
  border-radius:50%;
  cursor:pointer;
  position:relative;
  transition:background 0.15s;
}
.cal-day:hover { background:rgba(255,255,255,0.05); }
.cal-day.bold { font-weight:700; }
.cal-day.empty { pointer-events:none; }
.cal-day .dot-indicator {
  width:5px; height:5px;
  border-radius:50%;
  position:absolute;
  bottom:2px;
}

/* ========== DETAIL VIEW ========== */
#detail {
  z-index:10;
}
.detail-header {
  background:var(--bg-secondary);
  padding:14px 20px;
  display:flex; align-items:center; gap:12px;
  flex-shrink:0;
}
.detail-header .back-btn {
  background:none; border:none; cursor:pointer;
  padding:4px 8px 4px 0;
  display:flex;
  align-items:center;
  justify-content:center;
}
.detail-header .back-btn svg {
  width: 24px;
  height: 24px;
  fill: var(--text-secondary);
}
.detail-content {
  flex:1; overflow-y:auto; padding:0 0 80px;
}
.detail-content::-webkit-scrollbar { display:none; }
.detail-hero {
  display:flex; height:180px;
}
.detail-hero .hero-image {
  flex:1;
  display:flex; align-items:center; justify-content:center;
  border-bottom:1px solid var(--border-subtle);
  font-size: 72px;
}
.detail-hero .hero-review {
  flex:1;
  background:#231F1A;
  border-bottom:1px solid var(--border-subtle);
  padding:16px;
  display:flex; flex-direction:column; justify-content:center;
}
.detail-hero .hero-review p {
  font-size:11.5px; color:var(--text-secondary);
  line-height:1.6;
}
.detail-title-bar {
  padding:16px 20px;
  display:flex; align-items:center; gap:10px;
  flex-wrap:wrap;
}
.detail-title-bar .emoji-icon { font-size:29px; }
.detail-title-bar h2 {
  font-family:'Noto Serif KR',serif;
  font-size:16px; font-weight:700;
  color:var(--text-primary);
  flex: 1;
  min-width: 0;
}
.detail-title-bar .rating {
  font-size:14.5px; color:var(--accent-gold);
  white-space: nowrap;
}
.detail-section {
  padding:0 20px 16px;
}
.detail-section h4 {
  font-size:11.5px; font-weight:700;
  color:var(--accent-gold);
  margin-bottom:8px;
}
.detail-section p {
  font-size:14.5px; color:var(--text-secondary);
  line-height:1.6;
}
.detail-actions {
  display:flex; gap:10px;
  padding:0 20px 20px;
}
.detail-actions button {
  height:25px;
  border:1px solid var(--border-light);
  background:none;
  color:var(--text-secondary);
  font-size:10px;
  padding:0 14px;
  border-radius:20px;
  cursor:pointer;
  font-family:'Inter',sans-serif;
}
.detail-actions button:active { background:rgba(255,255,255,0.05); }

/* ========== EXPLORE TAB ========== */
.explore-tabs {
  display:flex; height:28px; overflow-x:auto; gap:0;
  flex-shrink:0;
}
.explore-tabs::-webkit-scrollbar { display:none; }
.explore-tabs button {
  height:100%; padding:0 16px; white-space:nowrap;
  background:transparent;
  border:1px solid var(--border-subtle);
  font-size:12.5px; font-family:'Inter',sans-serif;
  color:var(--text-muted);
  cursor:pointer; transition:all 0.2s;
  flex-shrink:0;
}
.explore-tabs button.active {
  background:var(--bg-tab-active);
  color:#000; font-weight:700;
}
.explore-category-tabs {
  display:flex; gap:8px;
  padding:12px 20px;
  overflow-x:auto;
}
.explore-category-tabs::-webkit-scrollbar { display:none; }
.explore-category-tabs button {
  height:28px; padding:0 14px;
  border:1px solid var(--border-subtle);
  background:none;
  color:var(--text-muted);
  font-size:12.5px; border-radius:14px;
  cursor:pointer; white-space:nowrap;
  font-family:'Inter',sans-serif;
}
.explore-cards {
  padding:0 15px 80px;
  display:grid; grid-template-columns:1fr 1fr;
  gap:12px;
}
.explore-card {
  background:var(--bg-card);
  border:1px solid var(--border-dark);
  border-radius:8px;
  overflow:hidden;
  cursor:pointer;
  transition:transform 0.15s;
}
.explore-card:active { transform:scale(0.97); }
.explore-card .card-cover {
  height:100px;
  display:flex; align-items:center; justify-content:center;
  font-size:40px;
}
.explore-card .card-body { padding:10px 12px; }
.explore-card .card-title {
  font-size:13px; font-weight:700; color:var(--text-primary);
  margin-bottom:2px;
}
.explore-card .card-author {
  font-size:11px; color:var(--text-muted);
  margin-bottom:4px;
}
.explore-card .card-desc {
  font-size:11.5px; color:var(--text-secondary);
  line-height:1.3;
  display:-webkit-box; -webkit-line-clamp:2;
  -webkit-box-orient:vertical; overflow:hidden;
  margin-bottom:6px;
}
.explore-card .card-footer {
  display:flex; justify-content:space-between; align-items:center;
}
.explore-card .card-rating { font-size:10.5px; color:var(--accent-gold); }
.explore-card .card-likes { font-size:11px; color:var(--text-muted); }

/* ========== STATS TAB ========== */
.stats-view { padding:20px 20px 80px; }
.stats-section {
  background:rgba(120,115,115,0.19);
  border-radius:8px;
  padding:20px;
  margin-bottom:16px;
}
.stats-section h4 {
  font-size:11.5px; color:var(--bg-tab-active);
  margin-bottom:16px;
}
/* Radar Chart */
.radar-container {
  display:flex; justify-content:center;
  padding:10px 0;
}
.radar-container svg { width:200px; height:200px; }
/* Bar Chart */
.bar-chart {
  display:flex; align-items:flex-end; gap:4px;
  height:80px; padding-top:10px;
}
.bar-col {
  flex:1; display:flex; flex-direction:column;
  align-items:center; gap:4px;
}
.bar-col .bar {
  width:100%;
  border-radius:2px 2px 0 0;
  background:linear-gradient(180deg, var(--accent-gold) 0%, rgba(200,165,92,0.3) 100%);
  min-height:2px;
  transition:height 0.5s ease;
}
.bar-col span {
  font-size:8.8px; color:var(--text-muted);
  white-space:nowrap;
}

/* ========== SEARCH TAB ========== */
.search-view {
  flex:1; display:flex; flex-direction:column;
}
.search-bar-area {
  background:var(--bg-secondary);
  padding:12px 20px;
  display:flex; align-items:center; gap:10px;
}
.search-bar-area .back-btn {
  background:none; border:none; cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
}
.search-bar-area .back-btn svg {
  width: 24px;
  height: 24px;
  fill: var(--text-secondary);
}
.search-bar-area .search-input-wrap {
  flex:1; height:36px;
  background:var(--bg-card);
  border:1px solid var(--border-light);
  border-radius:6px;
  display:flex; align-items:center;
  padding:0 12px;
}
.search-bar-area .search-input-wrap input {
  flex:1; background:none; border:none; outline:none;
  font-size:14px; color:var(--text-primary);
  font-family:'Inter',sans-serif;
}
.search-bar-area .search-input-wrap input::placeholder { color:var(--text-muted); }
.search-empty {
  flex:1; display:flex; flex-direction:column;
  align-items:center; justify-content:center; gap:12px;
}
.search-empty .search-icon svg {
  width: 28px;
  height: 28px;
  fill: var(--text-secondary);
  opacity: 0.5;
}
.search-empty p { font-size:15px; color:var(--text-muted); }
.search-results { padding:12px 20px 80px; }
.search-results .list-item { padding:12px 0; }

/* ========== BOTTOM NAV ========== */
.bottom-nav {
  position:absolute;
  bottom:0;
  left:0;
  right:0;
  background:rgba(86,84,72,1);
  border-top:none;
  display:flex; align-items:center; justify-content:space-around;
  height:var(--nav-height);
  flex-shrink:0;
  padding-bottom:env(safe-area-inset-bottom);
  z-index:50;
  border-radius:17px;
}
.nav-item {
  display:flex; flex-direction:column;
  align-items:center; gap:3px;
  cursor:pointer;
  padding:6px 12px;
  border:none; background:none;
}
.nav-item .nav-icon {
  width: 24px;
  height: 24px;
}
.nav-item .nav-icon svg {
  width: 100%;
  height: 100%;
  fill: #B1B1B1;
}
.nav-item.active .nav-icon svg {
  fill: #FFFFFF;
}
.nav-item .nav-label {
  font-size:9.5px; color:#B1B1B1;
  font-family:'Inter',sans-serif;
}
.nav-item.active .nav-label { 
  color:#FFFFFF;
  font-weight:700;
}
.fab {
  width:48px; height:48px;
  background:var(--accent-yellow);
  border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  font-size:26px; color:var(--text-dark);
  border:none; cursor:pointer;
  margin-top:-24px;
  box-shadow:0 4px 16px rgba(249,216,148,0.3);
  transition:transform 0.15s;
}
.fab:active { transform:scale(0.9); }

/* ========== ADD MODAL ========== */
.modal-overlay {
  position:fixed; inset:0;
  background:rgba(0,0,0,0.6);
  z-index:200;
  display:flex; align-items:flex-end; justify-content:center;
  opacity:0; pointer-events:none;
  transition:opacity 0.3s;
}
.modal-overlay.show { opacity:1; pointer-events:all; }
.modal-sheet {
  width:100%; max-width:430px;
  background:var(--bg-card);
  border-radius:20px 20px 0 0;
  padding:20px 20px 40px;
  transform:translateY(100%);
  transition:transform 0.35s ease;
}
.modal-overlay.show .modal-sheet {
  transform:translateY(0);
}
.modal-sheet .handle {
  width:40px; height:4px;
  background:var(--text-muted);
  border-radius:2px;
  margin:0 auto 20px;
}
.modal-sheet h3 {
  font-family:'Noto Serif KR',serif;
  font-size:18px; color:var(--text-primary);
  margin-bottom:16px;
}
.modal-sheet .form-group {
  margin-bottom:14px;
}
.modal-sheet label {
  font-size:12px; color:var(--text-muted);
  display:block; margin-bottom:6px;
}
.modal-sheet input, .modal-sheet select, .modal-sheet textarea {
  width:100%; height:40px;
  background:var(--bg-primary);
  border:1px solid var(--border-light);
  border-radius:6px;
  padding:0 12px;
  font-size:14px; color:var(--text-primary);
  font-family:'Inter',sans-serif;
  outline:none;
}
.modal-sheet textarea { height:80px; padding:10px 12px; resize:none; }
.modal-sheet select { appearance:none; }
.modal-sheet .btn-submit {
  width:100%; height:46px;
  background:var(--accent-yellow);
  border:none; border-radius:6px;
  font-size:16px; font-weight:700;
  color:var(--text-dark);
  cursor:pointer;
  font-family:'Inter',sans-serif;
  margin-top:6px;
}

/* ========== RESPONSIVE ========== */
@media (min-width:431px) {
  .app {
    border-radius:38px;
    max-height:812px;
    margin-top:max(0px, calc(50vh - 406px));
    box-shadow: 0 0 60px rgba(0,0,0,0.5);
    overflow:hidden;
  }
}

/* Animations */
.fade-in { animation: fadeIn 0.5s ease forwards; }
@keyframes fadeIn {
  from { opacity:0; } to { opacity:1; }
}
.stagger > *:nth-child(1) { animation-delay:0s; }
.stagger > *:nth-child(2) { animation-delay:0.05s; }
.stagger > *:nth-child(3) { animation-delay:0.1s; }
.stagger > *:nth-child(4) { animation-delay:0.15s; }
.stagger > *:nth-child(5) { animation-delay:0.2s; }
.stagger > *:nth-child(6) { animation-delay:0.25s; }
.stagger > *:nth-child(7) { animation-delay:0.3s; }
</style>
</head>
<body>
<div class="app" id="app">

  <!-- ===== SPLASH ===== -->
  <div class="screen active" id="splash" onclick="showScreen('login')">
    <div class="splash-content">
      <div class="logo-icon">
        <img src="https://media.discordapp.net/attachments/1441816699081855017/1469757805836632105/LOGO.png" alt="arTchieve Logo">
      </div>
      <h1>arTchieve</h1>
      <div class="tagline">ê¸°ë¡í•˜ê³ , ìˆ˜ì§‘í•˜ê³ , ì „ì‹œí•˜ê³ </div>
      <div class="tap-hint">í™”ë©´ì„ í„°ì¹˜í•˜ì—¬ ì‹œì‘í•˜ê¸°</div>
    </div>
  </div>

  <!-- ===== LOGIN ===== -->
  <div class="screen" id="login">
    <div class="login-logo">
      <img src="https://media.discordapp.net/attachments/1441816699081855017/1469757805836632105/LOGO.png" alt="arTchieve Logo">
    </div>
    <h2>ì„œì¬ì— ì…ì¥í•˜ê¸°</h2>
    <p class="login-sub">ì´ë©”ì¼ë¡œ ì‹œì‘í•˜ì„¸ìš”</p>
    <div class="input-group">
      <input type="text" placeholder="ì•„ì´ë””" id="loginId">
      <input type="password" placeholder="ë¹„ë°€ë²ˆí˜¸" id="loginPw">
    </div>
    <button class="btn-login" onclick="doLogin()">ë¡œê·¸ì¸í•˜ê¸°</button>
    <div class="signup-link">íšŒì›ê°€ì…</div>
  </div>

  <!-- ===== HOME (ì„œì¬) ===== -->
  <div class="screen" id="home">
    <div class="main-header">
      <div class="top-row">
        <div class="profile-area">
          <div class="profile-pic">
            <img src="https://media.discordapp.net/attachments/1441816699081855017/1469757805836632105/LOGO.png" alt="Profile">
          </div>
          <div class="profile-info">
            <h3>ë³´ê´€ì†Œ</h3>
            <span>@Artchieve0102</span>
          </div>
        </div>
        <div class="header-actions">
          <button onclick="switchMainTab('search')" title="ê²€ìƒ‰">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
          </button>
          <button class="profile-btn">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
          </button>
        </div>
      </div>
      <div class="sub-tabs" id="homeTabs">
        <button class="active" onclick="switchSubTab('bookshelf',this)">ì±…ì¥</button>
        <button onclick="switchSubTab('list',this)">ë¦¬ìŠ¤íŠ¸</button>
        <button onclick="switchSubTab('calendar',this)">ìº˜ë¦°ë”</button>
        <button onclick="switchSubTab('stats-sub',this)">í†µê³„</button>
      </div>
    </div>
    <div class="main-content" id="homeContent">
      <!-- Bookshelf View (default) -->
      <div id="bookshelf-view" class="bookshelf-grid">
      </div>
      <!-- List View -->
      <div id="list-view" class="list-view" style="display:none">
      </div>
      <!-- Calendar View -->
      <div id="calendar-view" class="calendar-view" style="display:none">
      </div>
      <!-- Stats Sub View -->
      <div id="stats-sub-view" style="display:none;padding:20px 20px 80px;">
        <div class="stats-section">
          <h4>ì˜ˆìˆ  ì„±í–¥ ë ˆì´ë”</h4>
          <div class="radar-container">
            <svg viewBox="0 0 200 200" id="radarChart"></svg>
          </div>
        </div>
        <div class="stats-section">
          <h4>ì›”ë³„ ê¸°ë¡ ì¶”ì´</h4>
          <div class="bar-chart" id="barChart"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== EXPLORE (íƒìƒ‰) ===== -->
  <div class="screen" id="explore">
    <div class="main-header">
      <div class="top-row">
        <div class="profile-area">
          <div class="profile-pic">
            <img src="https://media.discordapp.net/attachments/1441816699081855017/1469757805836632105/LOGO.png" alt="Profile">
          </div>
          <div class="profile-info">
            <h3>ë³´ê´€ì†Œ</h3>
            <span>@Artchieve0102</span>
          </div>
        </div>
        <div class="header-actions">
          <button onclick="switchMainTab('search')">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
          </button>
          <button class="profile-btn">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
          </button>
        </div>
      </div>
      <div class="explore-tabs" id="exploreTabs">
        <button class="active" onclick="switchExploreTab(this)">ìµœì‹ ìˆœ</button>
        <button onclick="switchExploreTab(this)">ì¸ê¸°ìˆœ</button>
        <button onclick="switchExploreTab(this)">íŒ”ë¡œì‰</button>
        <button onclick="switchExploreTab(this)">ì˜í™”</button>
      </div>
    </div>
    <div class="main-content">
      <div class="explore-category-tabs">
        <button>íšŒí™”</button>
        <button>ë¬¸í•™</button>
        <button>ìŒì•…</button>
      </div>
      <div class="explore-cards" id="exploreCards">
      </div>
      <div style="height:20px"></div>
    </div>
  </div>

  <!-- ===== STATS (í†µê³„) ===== -->
  <div class="screen" id="stats">
    <div class="main-header" style="padding-bottom:12px;">
      <div class="top-row">
        <div class="profile-area">
          <button style="background:none;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;" onclick="switchMainTab('home')">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px;fill:var(--text-secondary);">
              <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
            </svg>
          </button>
          <div class="profile-info">
            <h3 style="font-size:14px;">í†µê³„</h3>
          </div>
        </div>
      </div>
    </div>
    <div class="main-content stats-view">
      <div class="stats-section">
        <h4>ì˜ˆìˆ  ì„±í–¥ ë ˆì´ë”</h4>
        <div class="radar-container">
          <svg viewBox="0 0 200 200" id="radarChart2"></svg>
        </div>
      </div>
      <div class="stats-section">
        <h4>ì›”ë³„ ê¸°ë¡ ì¶”ì´</h4>
        <div class="bar-chart" id="barChart2"></div>
      </div>
    </div>
  </div>

  <!-- ===== SEARCH ===== -->
  <div class="screen" id="search">
    <div class="search-bar-area">
      <button class="back-btn" onclick="goBack()">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
        </svg>
      </button>
      <div class="search-input-wrap">
        <input type="text" placeholder="ì‘í’ˆëª…, íƒœê·¸ë¡œ ê²€ìƒ‰..." id="searchInput" oninput="doSearch(this.value)">
      </div>
    </div>
    <div class="search-view">
      <div class="search-empty" id="searchEmpty">
        <div class="search-icon">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
          </svg>
        </div>
        <p>ì„œì¬ì—ì„œ ê¸°ë¡ì„ ì°¾ì•„ë³´ì„¸ìš”</p>
      </div>
      <div class="search-results list-view" id="searchResults" style="display:none;padding:0 20px;"></div>
    </div>
  </div>

  <!-- ===== DETAIL ===== -->
  <div class="screen" id="detail">
    <div class="detail-header">
      <button class="back-btn" onclick="goBack()">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
        </svg>
      </button>
    </div>
    <div class="detail-content" id="detailContent">
    </div>
  </div>

  <!-- ===== BOTTOM NAV ===== -->
  <div class="bottom-nav" id="bottomNav" style="display:none;">
    <button class="nav-item active" data-tab="home" onclick="switchMainTab('home')">
      <span class="nav-icon">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"/>
        </svg>
      </span>
      <span class="nav-label">ì„œì¬</span>
    </button>
    <button class="nav-item" data-tab="explore" onclick="switchMainTab('explore')">
      <span class="nav-icon">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
        </svg>
      </span>
      <span class="nav-label">íƒìƒ‰</span>
    </button>
    <button class="fab" onclick="openAddModal()">+</button>
    <button class="nav-item" data-tab="stats" onclick="switchMainTab('stats')">
      <span class="nav-icon">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
        </svg>
      </span>
      <span class="nav-label">í†µê³„</span>
    </button>
    <button class="nav-item" data-tab="search" onclick="switchMainTab('search')">
      <span class="nav-icon">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
        </svg>
      </span>
      <span class="nav-label">ê²€ìƒ‰</span>
    </button>
  </div>

  <!-- ===== ADD MODAL ===== -->
  <div class="modal-overlay" id="addModal" onclick="closeAddModal(event)">
    <div class="modal-sheet" onclick="event.stopPropagation()">
      <div class="handle"></div>
      <h3>ìƒˆ ê¸°ë¡ ì¶”ê°€</h3>
      <div class="form-group">
        <label>ì‘í’ˆëª…</label>
        <input type="text" placeholder="ì‘í’ˆ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" id="addTitle">
      </div>
      <div class="form-group">
        <label>ì¹´í…Œê³ ë¦¬</label>
        <select id="addCategory">
          <option value="ì˜í™”">ì˜í™”</option>
          <option value="ë¬¸í•™">ë¬¸í•™</option>
          <option value="ìŒì•…">ìŒì•…</option>
          <option value="ë®¤ì§€ì»¬">ë®¤ì§€ì»¬</option>
          <option value="ê±´ì¶•">ê±´ì¶•</option>
          <option value="ë¯¸ìˆ ">ë¯¸ìˆ </option>
        </select>
      </div>
      <div class="form-group">
        <label>ë³„ì </label>
        <select id="addRating">
          <option value="5">â˜…â˜…â˜…â˜…â˜…</option>
          <option value="4" selected>â˜…â˜…â˜…â˜…â˜†</option>
          <option value="3">â˜…â˜…â˜…â˜†â˜†</option>
          <option value="2">â˜…â˜…â˜†â˜†â˜†</option>
          <option value="1">â˜…â˜†â˜†â˜†â˜†</option>
        </select>
      </div>
      <div class="form-group">
        <label>ë¦¬ë·°</label>
        <textarea placeholder="ê°ìƒì„ ë‚¨ê²¨ë³´ì„¸ìš”..." id="addReview"></textarea>
      </div>
      <button class="btn-submit" onclick="submitRecord()">ê¸°ë¡í•˜ê¸°</button>
    </div>
  </div>
</div>

<script>
// ===== DATA =====
const categoryEmojis = {
  'ì˜í™”':'ğŸ¬','ë¬¸í•™':'ğŸ“–','ìŒì•…':'ğŸµ','ë®¤ì§€ì»¬':'ğŸ­','ê±´ì¶•':'ğŸ›ï¸','ë¯¸ìˆ ':'ğŸ¨'
};
const categoryColors = {
  'ì˜í™”':'var(--color-blue)','ë¬¸í•™':'var(--color-red)',
  'ìŒì•…':'var(--color-lemon)','ë®¤ì§€ì»¬':'var(--color-purple)',
  'ê±´ì¶•':'var(--color-green)','ë¯¸ìˆ ':'var(--color-brown)'
};
const bookColors = ['bc-blue','bc-green','bc-pink','bc-purple','bc-brown','bc-olive','bc-lemon'];

let records = [
  {id:1, title:'ì¸ì‚¬ì´ë“œ ì•„ì›ƒ 2', category:'ì˜í™”', date:'2026-01-15', rating:4, review:'ê°ì •ì˜ ë³µì¡ì„±ì„ ì´ë ‡ê²Œ ì•„ë¦„ë‹µê²Œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤ë‹ˆ. ë¶ˆì•ˆì´ë¼ëŠ” ê°ì •ì´ ë‚˜ìœ ê²ƒë§Œì€ ì•„ë‹ˆë¼ëŠ” ë©”ì‹œì§€ê°€ ì¸ìƒì ì´ì—ˆë‹¤.', color:'var(--color-blue)'},
  {id:2, title:'ì‘ì€ ì•„ì”¨ë“¤', category:'ë¬¸í•™', date:'2026-01-20', rating:4, review:'ì‹œëŒ€ë¥¼ ì´ˆì›”í•œ ìë§¤ì• ì™€ ì„±ì¥ì˜ ì´ì•¼ê¸°. ê°ìì˜ ê¿ˆì„ í–¥í•´ ë‚˜ì•„ê°€ëŠ” ëª¨ìŠµì´ ê°ë™ì ì´ë‹¤.', color:'var(--color-red)'},
  {id:3, title:'ë¼ë¼ëœë“œ', category:'ì˜í™”', date:'2026-01-25', rating:3, review:'ê¿ˆê³¼ ì‚¬ë‘ ì‚¬ì´ì˜ ì„ íƒ. ì•„ë¦„ë‹¤ìš´ ì˜ìƒë¯¸ì™€ ìŒì•…ì´ ì—¬ìš´ì„ ë‚¨ê¸´ë‹¤.', color:'var(--color-amber)'},
  {id:4, title:'ì„œìš¸ë„ì‹œê±´ì¶•ë¹„ì—”ë‚ ë ˆ', category:'ê±´ì¶•', date:'2025-11-25', rating:2, review:'ë„ì‹œ ê±´ì¶•ì˜ ë¯¸ë˜ë¥¼ ì—¿ë³¼ ìˆ˜ ìˆì—ˆë˜ ì „ì‹œ. ê¸°ëŒ€ì—ëŠ” ëª» ë¯¸ì³¤ë‹¤.', color:'var(--color-green)'},
  {id:5, title:'CIRCUS MAXIMUS in Korea', category:'ìŒì•…', date:'2025-10-25', rating:5, review:'Travis Scottì˜ ì—ë„ˆì§€ê°€ í­ë°œí•˜ëŠ” ê³µì—°. ìŠì„ ìˆ˜ ì—†ëŠ” ê²½í—˜.', color:'var(--color-lemon)'},
  {id:6, title:'ì§€í‚¬ì•¤í•˜ì´ë“œ', category:'ë®¤ì§€ì»¬', date:'2025-07-13', rating:3, review:'ì¸ê°„ ë‚´ë©´ì˜ ì´ì¤‘ì„±ì„ íƒêµ¬í•˜ëŠ” ë®¤ì§€ì»¬. ë°°ìš°ë“¤ì˜ ì—´ì—°ì´ ë‹ë³´ì˜€ë‹¤.', color:'var(--color-purple)'},
  {id:7, title:'êµ­ë¦½í˜„ëŒ€ë¯¸ìˆ ê´€', category:'ë¯¸ìˆ ', date:'2026-02-01', rating:4, review:'í•œêµ­ í˜„ëŒ€ë¯¸ìˆ ì˜ íë¦„ì„ í•œëˆˆì—. ë‹¤ì–‘í•œ ë§¤ì²´ì˜ ì‘í’ˆë“¤ì´ ì¸ìƒì .', color:'var(--color-brown)'},
];

let exploreData = [
  {title:'ìœ„í”Œë˜ì‰¬', author:'ë°¤í•˜ëŠ˜ì˜ ì˜í™”ê´€', category:'ì˜í™”', desc:'ë“œëŸ¼ ì†Œë¦¬ê°€ ì•„ì§ë„ ê·“ê°€ì— ë§´ëˆë‹¤...', rating:5, likes:47, color:'var(--color-orange)'},
  {title:'1984', author:'ì±…ë²Œë ˆ ë‹¤ëŒì¥', category:'ë¬¸í•™', desc:'ì˜¤ì›°ì˜ ì˜ˆì–¸ì´ í˜„ì‹¤ì´ ë˜ì–´ê°€ëŠ” ëŠë‚Œ...', rating:4, likes:32, color:'var(--color-blue)'},
  {title:'ë³„ì´ ë¹›ë‚˜ëŠ” ë°¤ì—', author:'ë¯¸ìˆ ê´€ ì‚°ì±…', category:'ë¯¸ìˆ ', desc:'ê³ íì˜ ë¶“í„°ì¹˜ì—ì„œ ëŠê»´ì§€ëŠ” ê´‘ê¸°ì™€ ì•„ë¦„ë‹¤ì›€', rating:5, likes:58, color:'var(--color-olive)'},
  {title:'ë…¸ë¥´ì›¨ì´ì˜ ìˆ²', author:'ë¬¸í•™ì†Œë…€', category:'ë¬¸í•™', desc:'ë¬´ë¼ì¹´ë¯¸ì˜ ì„œì •ì  ì„¸ê³„ì— ë¹ ì ¸ë“¤ë‹¤', rating:4, likes:41, color:'var(--color-green)'},
];

let navHistory = [];
let currentTab = 'home';
let previousTab = null;

// ===== SCREEN MANAGEMENT =====
function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => {
    if(s.classList.contains('active')) s.classList.add('slide-left');
    s.classList.remove('active');
  });
  setTimeout(()=>{
    document.querySelectorAll('.screen').forEach(s=>s.classList.remove('slide-left'));
  },350);
  document.getElementById(id).classList.add('active');

  const showNav = ['home','explore','stats'].includes(id);
  document.getElementById('bottomNav').style.display = showNav ? 'flex' : 'none';
}

function switchMainTab(tab) {
  previousTab = currentTab;
  currentTab = tab;
  if(!['detail'].includes(tab)) navHistory = [];

  document.querySelectorAll('.nav-item').forEach(n=>{
    n.classList.toggle('active', n.dataset.tab===tab);
  });

  showScreen(tab);
  if(tab==='search') {
    setTimeout(()=>document.getElementById('searchInput')?.focus(),400);
  }
}

function goBack() {
  if(previousTab) {
    showScreen(previousTab);
    currentTab = previousTab;
    document.querySelectorAll('.nav-item').forEach(n=>{
      n.classList.toggle('active', n.dataset.tab===currentTab);
    });
    document.getElementById('bottomNav').style.display = 
      ['home','explore','stats'].includes(currentTab) ? 'flex' : 'none';
  } else {
    switchMainTab('home');
  }
}

function doLogin() {
  showScreen('home');
  document.getElementById('bottomNav').style.display = 'flex';
  currentTab = 'home';
  renderBookshelf();
  renderList();
  renderCalendar();
  renderStats();
  renderExplore();
}

// ===== SUB TABS =====
function switchSubTab(view, btn) {
  document.querySelectorAll('#homeTabs button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  ['bookshelf-view','list-view','calendar-view','stats-sub-view'].forEach(v=>{
    document.getElementById(v).style.display='none';
  });
  document.getElementById(view+'-view').style.display='';
}

function switchExploreTab(btn) {
  document.querySelectorAll('#exploreTabs button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}

// ===== RENDER BOOKSHELF =====
function renderBookshelf() {
  const el = document.getElementById('bookshelf-view');
  el.innerHTML = '';
  const perRow = 4;
  
  for(let i=0; i<records.length; i++){
    const book = document.createElement('div');
    book.className = 'book-spine ' + bookColors[i % bookColors.length];
    book.onclick = () => openDetail(records[i]);
    book.title = records[i].title;
    el.appendChild(book);
    
    // Add shelf after every 4 books
    if((i+1) % perRow === 0) {
      const shelf = document.createElement('div');
      shelf.className='shelf-row';
      el.appendChild(shelf);
    }
  }
  
  // Add final shelf if needed
  if(records.length % perRow !== 0) {
    const shelf = document.createElement('div');
    shelf.className='shelf-row';
    el.appendChild(shelf);
  }
}

// ===== RENDER LIST =====
function renderList() {
  const el = document.getElementById('list-view');
  el.innerHTML = records.map(r => `
    <div class="list-item" onclick="openDetail(records.find(x=>x.id===${r.id}))">
      <div class="color-dot" style="background:${r.color}"></div>
      <div class="item-info">
        <div class="item-title">${r.title}</div>
        <div class="item-meta">${r.category} Â· ${r.date}</div>
      </div>
      <div class="item-rating">${'â˜…'.repeat(r.rating)}${'â˜†'.repeat(5-r.rating)}</div>
    </div>
  `).join('');
}

// ===== RENDER CALENDAR =====
function renderCalendar() {
  const el = document.getElementById('calendar-view');
  const year=2026, month=2;
  const firstDay = new Date(year, month-1, 1).getDay();
  const daysInMonth = new Date(year, month, 0).getDate();

  // Records in this month
  const monthRecords = records.filter(r=>{
    const d=new Date(r.date);
    return d.getFullYear()===year && d.getMonth()===month-1;
  });
  const recordDays = {};
  monthRecords.forEach(r=>{
    const day = new Date(r.date).getDate();
    recordDays[day] = r;
  });

  el.innerHTML = `
    <div class="calendar-header">
      <h3>${year}ë…„ ${month}ì›”</h3>
      <div class="calendar-nav">
        <button>â—€</button>
        <button>â–¶</button>
      </div>
    </div>
    <div class="cal-weekdays">
      <span>ì¼</span><span>ì›”</span><span>í™”</span><span>ìˆ˜</span><span>ëª©</span><span>ê¸ˆ</span><span>í† </span>
    </div>
    <div class="cal-days" id="calDays"></div>
  `;

  const grid = document.getElementById('calDays');
  // Empty cells before first day
  for(let i=0;i<firstDay;i++){
    grid.innerHTML += '<div class="cal-day empty"></div>';
  }
  for(let d=1;d<=daysInMonth;d++){
    const rec = recordDays[d];
    const bold = rec ? 'bold' : '';
    const dot = rec ? `<div class="dot-indicator" style="background:${rec.color}"></div>` : '';
    grid.innerHTML += `<div class="cal-day ${bold}" ${rec?`onclick="openDetail(records.find(x=>x.id===${rec.id}))"`:''}>${d}${dot}</div>`;
  }
}

// ===== RENDER STATS =====
function renderStats() {
  renderRadar('radarChart');
  renderRadar('radarChart2');
  renderBarChart('barChart');
  renderBarChart('barChart2');
}

function renderRadar(svgId) {
  const svg = document.getElementById(svgId);
  if(!svg) return;
  const cx=100, cy=100, r=70;
  const labels = ['ì˜í™”','ë¬¸í•™','ìŒì•…','ë®¤ì§€ì»¬','ê±´ì¶•','ë¯¸ìˆ ','ì‚¬ì§„'];
  const values = [0.85, 0.6, 0.75, 0.5, 0.4, 0.7, 0.3];
  const n = labels.length;

  let gridLines = '';
  [0.33,0.66,1].forEach(scale=>{
    let pts=[];
    for(let i=0;i<n;i++){
      const angle = (Math.PI*2*i/n) - Math.PI/2;
      pts.push(`${cx+r*scale*Math.cos(angle)},${cy+r*scale*Math.sin(angle)}`);
    }
    gridLines += `<polygon points="${pts.join(' ')}" fill="none" stroke="var(--accent-gold)" stroke-opacity="0.15" stroke-width="1"/>`;
  });

  let dataPts=[], labelEls='';
  for(let i=0;i<n;i++){
    const angle = (Math.PI*2*i/n) - Math.PI/2;
    const x = cx + r*values[i]*Math.cos(angle);
    const y = cy + r*values[i]*Math.sin(angle);
    dataPts.push(`${x},${y}`);
    const lx = cx + (r+18)*Math.cos(angle);
    const ly = cy + (r+18)*Math.sin(angle);
    labelEls += `<text x="${lx}" y="${ly}" text-anchor="middle" dominant-baseline="middle" fill="var(--text-muted)" font-size="9" font-family="Inter">${labels[i]}</text>`;
  }

  svg.innerHTML = gridLines + 
    `<polygon points="${dataPts.join(' ')}" fill="rgba(200,165,92,0.13)" stroke="var(--accent-gold)" stroke-width="2"/>` +
    dataPts.map(p=>{
      const [x,y]=p.split(',');
      return `<circle cx="${x}" cy="${y}" r="3" fill="var(--accent-gold)"/>`;
    }).join('') + labelEls;
}

function renderBarChart(containerId) {
  const el = document.getElementById(containerId);
  if(!el) return;
  const months = ['1ì›”','2ì›”','3ì›”','4ì›”','5ì›”','6ì›”','7ì›”','8ì›”','9ì›”','10ì›”','11ì›”','12ì›”'];
  const values = [5,4,3,2.5,0,0,1,0,0,1,1,0];
  const max = Math.max(...values,1);
  el.innerHTML = months.map((m,i) => `
    <div class="bar-col">
      <div class="bar" style="height:${values[i]/max*60}px"></div>
      <span>${m}</span>
    </div>
  `).join('');
}

// ===== RENDER EXPLORE =====
function renderExplore() {
  const el = document.getElementById('exploreCards');
  el.innerHTML = exploreData.map((e,i) => `
    <div class="explore-card" onclick="openExploreDetail(${i})">
      <div class="card-cover" style="background:${e.color}">
        ${categoryEmojis[e.category]||'ğŸ“–'}
      </div>
      <div class="card-body">
        <div class="card-title">${e.title}</div>
        <div class="card-author">by ${e.author}</div>
        <div class="card-desc">${e.desc}</div>
        <div class="card-footer">
          <span class="card-rating">${'â˜…'.repeat(e.rating)}${'â˜†'.repeat(5-e.rating)}</span>
          <span class="card-likes">â™¥ ${e.likes}</span>
        </div>
      </div>
    </div>
  `).join('');
}

// ===== DETAIL =====
function openDetail(rec) {
  previousTab = currentTab;
  const el = document.getElementById('detailContent');
  el.innerHTML = `
    <div class="detail-hero">
      <div class="hero-image" style="background:${rec.color}">
        <span class="emoji-large">${categoryEmojis[rec.category]||'ğŸ“–'}</span>
      </div>
      <div class="hero-review">
        <p>${rec.review}</p>
      </div>
    </div>
    <div class="detail-title-bar">
      <span class="emoji-icon">${categoryEmojis[rec.category]||'ğŸ“–'}</span>
      <h2>${rec.title}</h2>
      <span class="rating">${'â˜…'.repeat(rec.rating)}${'â˜†'.repeat(5-rec.rating)} ${rec.rating}.0</span>
    </div>
    <div class="detail-section">
      <h4>ë¦¬ë·°</h4>
      <p>${rec.review}</p>
    </div>
    <div class="detail-section">
      <h4>ì •ë³´</h4>
      <p>${rec.category} Â· ${rec.date}</p>
    </div>
    <div class="detail-actions">
      <button>â™¥ ì¢‹ì•„ìš”</button>
      <button>ğŸ’¬ ëŒ“ê¸€</button>
    </div>
  `;
  showScreen('detail');
  document.getElementById('bottomNav').style.display='none';
}

function openExploreDetail(i) {
  const e = exploreData[i];
  previousTab = 'explore';
  const el = document.getElementById('detailContent');
  el.innerHTML = `
    <div class="detail-hero">
      <div class="hero-image" style="background:${e.color}">
        <span class="emoji-large">${categoryEmojis[e.category]||'ğŸ“–'}</span>
      </div>
      <div class="hero-review">
        <p>${e.desc}</p>
      </div>
    </div>
    <div class="detail-title-bar">
      <span class="emoji-icon">${categoryEmojis[e.category]||'ğŸ“–'}</span>
      <h2>${e.title}</h2>
      <span class="rating">${'â˜…'.repeat(e.rating)}${'â˜†'.repeat(5-e.rating)} ${e.rating}.0</span>
    </div>
    <div class="detail-section">
      <h4>by ${e.author}</h4>
      <p>${e.desc}</p>
    </div>
    <div class="detail-actions">
      <button>â™¥ ${e.likes}</button>
      <button>ğŸ’¬ ëŒ“ê¸€</button>
    </div>
  `;
  showScreen('detail');
  document.getElementById('bottomNav').style.display='none';
}

// ===== SEARCH =====
function doSearch(query) {
  const results = document.getElementById('searchResults');
  const empty = document.getElementById('searchEmpty');
  if(!query.trim()) {
    results.style.display='none';
    empty.style.display='flex';
    return;
  }
  const q = query.toLowerCase();
  const found = records.filter(r=>
    r.title.toLowerCase().includes(q) || 
    r.category.toLowerCase().includes(q) ||
    r.review.toLowerCase().includes(q)
  );
  if(found.length===0) {
    results.style.display='none';
    empty.style.display='flex';
    return;
  }
  empty.style.display='none';
  results.style.display='block';
  results.innerHTML = found.map(r=>`
    <div class="list-item" onclick="openDetail(records.find(x=>x.id===${r.id}))">
      <div class="color-dot" style="background:${r.color}"></div>
      <div class="item-info">
        <div class="item-title">${r.title}</div>
        <div class="item-meta">${r.category} Â· ${r.date}</div>
      </div>
      <div class="item-rating">${'â˜…'.repeat(r.rating)}${'â˜†'.repeat(5-r.rating)}</div>
    </div>
  `).join('');
}

// ===== ADD MODAL =====
function openAddModal() {
  document.getElementById('addModal').classList.add('show');
}
function closeAddModal(e) {
  if(e.target===e.currentTarget) {
    document.getElementById('addModal').classList.remove('show');
  }
}
function submitRecord() {
  const title = document.getElementById('addTitle').value.trim();
  const category = document.getElementById('addCategory').value;
  const rating = parseInt(document.getElementById('addRating').value);
  const review = document.getElementById('addReview').value.trim();
  if(!title) { alert('ì‘í’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš”'); return; }
  const today = new Date().toISOString().split('T')[0];
  const newRec = {
    id: Date.now(),
    title, category, date:today, rating,
    review: review || 'ê¸°ë¡ ì—†ìŒ',
    color: categoryColors[category] || 'var(--color-blue)'
  };
  records.unshift(newRec);
  renderBookshelf();
  renderList();
  renderCalendar();
  renderStats();
  // Reset form
  document.getElementById('addTitle').value='';
  document.getElementById('addReview').value='';
  document.getElementById('addModal').classList.remove('show');
}

// ===== INIT =====
document.addEventListener('DOMContentLoaded', ()=>{
  // Pre-render for when login completes
  setTimeout(()=>{
    renderBookshelf();
    renderList();
    renderCalendar();
    renderStats();
    renderExplore();
  }, 500);
});
</script>
</body>
</html>
